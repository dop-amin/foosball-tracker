{% if games %}
<div class="table-responsive">
    <table class="table table-sm">
        <thead>
            <tr>
                <th>Date</th>
                <th>Type</th>
                <th>Score</th>
                <th>Players</th>
                <th>ELO</th>
            </tr>
        </thead>
        <tbody>
            {% for game in games %}
            <tr class="{% if game.is_shutout %}shutout{% endif %}">
                <td>{{ game.start_time.strftime('%m/%d %H:%M') }}</td>
                <td><span class="badge bg-secondary">{{ game.game_type }}</span></td>
                <td><strong>{{ game.team1_score }}-{{ game.team2_score }}</strong></td>
                <td>
                    <small>
                        Black Side:
                        {% for gp in game.players if gp.team == 1 %}
                            {{ gp.player.name }}{% if not loop.last %}, {% endif %}
                        {% endfor %}
                        <br>
                        White Side:
                        {% for gp in game.players if gp.team == 2 %}
                            {{ gp.player.name }}{% if not loop.last %}, {% endif %}
                        {% endfor %}
                    </small>
                </td>
                <td>
                    <small>
                        {% for gp in game.players if gp.team == 1 %}
                            <span class="{% if gp.elo_change > 0 %}text-success{% elif gp.elo_change < 0 %}text-danger{% endif %}">
                                {% if gp.elo_change > 0 %}+{% endif %}{{ gp.elo_change if gp.elo_change else '-' }}
                            </span>{% if not loop.last %}, {% endif %}
                        {% endfor %}
                        <br>
                        {% for gp in game.players if gp.team == 2 %}
                            <span class="{% if gp.elo_change > 0 %}text-success{% elif gp.elo_change < 0 %}text-danger{% endif %}">
                                {% if gp.elo_change > 0 %}+{% endif %}{{ gp.elo_change if gp.elo_change else '-' }}
                            </span>{% if not loop.last %}, {% endif %}
                        {% endfor %}
                    </small>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('pages.games') }}" class="btn btn-sm btn-outline-primary">View All Games</a>
</div>
{% else %}
<p class="text-muted">No games played yet. <a href="{{ url_for('pages.games') }}">Record your first game!</a></p>
{% endif %}